const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BUNf0g9U.js","assets/vendor-DrDTB3wU.js","assets/index-DEjiMst8.js"])))=>i.map(i=>d[i]);
import{r as e,R as s,j as t,N as n,L as i,u as r,a,b as o,M as c,c as l,d,O as u,B as h,e as p}from"./vendor-DrDTB3wU.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const m={},x=function(e,s,t){let n=Promise.resolve();if(s&&s.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),i=t?.nonce||t?.getAttribute("nonce");n=e(s.map(e=>{if((e=function(e){return"/"+e}(e))in m)return;m[e]=!0;const s=e.endsWith(".css"),t=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const n=document.createElement("link");return n.rel=s?"stylesheet":"modulepreload",s||(n.as="script"),n.crossOrigin="",n.href=e,i&&n.setAttribute("nonce",i),document.head.appendChild(n),s?new Promise((s,t)=>{n.addEventListener("load",s),n.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return n.then(s=>{for(const e of s||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})};function f(e,s){const t=[],n=`add${s}`;for(let i=0;i<s;i++)for(let r=0;r<s;r++){const a=i+r;a>=e&&a<=s&&(t.push({id:`${n}_${i}_${r}`,cid:"math",tid:n,text:`${i} + ${r} = ?`,answer:`${a}`,variants:[a,a+1,a>10?a-10:a+2,a>0?a-1:a+3].map(e=>e.toString())}),t.push({id:`${n}_${i}_${r}m`,tid:n,cid:"math",text:`${i} + ? = ${a}`,answer:`${r}`,variants:[r,r+1,r>10?r-10:r+2,r>0?r-1:r+3].map(e=>e.toString())}))}return{topic:{cid:"math",id:n,name:`Sudėtis iki ${s}`},items:t}}function j(e){const s={cid:"math",id:`numbers${e}`,name:`Skaičiai iki ${e}`},t=[];for(let n=0;n<=e;n++)t.push({id:`${s.id}_${n}`,tid:s.id,cid:s.cid,text:"⚫".repeat(n)+"⚪".repeat(e-n),answer:`${n}`,variants:[n,n+1,n+2,n+3].map(e=>e.toString())});return{topic:s,items:t}}function g(e,s,t=2){const n=[],i=`div${s}`;for(let r=e;r<s;r++)for(let e=2;e<s;e++){const a=r/e;a>=t&&a<=s&&r%e===0&&(n.push({id:`${i}_${r}_${e}`,tid:i,cid:"math",text:`${r} ÷ ${e} = ?`,answer:`${a}`,variants:[a,a+1,a>10?a-10:a+2,a>0?a-1:a+3].map(e=>e.toString())}),n.push({id:`${i}_${r}_${e}m`,tid:i,cid:"math",text:`${r} ÷ ? = ${a}`,answer:`${e}`,variants:[e,e+1,e>10?e-10:e+2,e>0?e-1:e+3].map(e=>e.toString())}))}return{topic:{cid:"math",id:i,name:`Dalyba iki ${s}`},items:n}}function v(e,s){const t=[],n=`mul${s}`;for(let i=2;i<s;i++)for(let r=2;r<s;r++){const a=i*r;a<=s&&a>=e&&(t.push({id:`${n}_${i}_${r}`,tid:n,cid:"math",text:`${i} × ${r} = ?`,answer:`${a}`,variants:[a,a+1,a>10?a-10:a+2,a>0?a-1:a+3].map(e=>e.toString())}),t.push({id:`${n}_${i}_${r}m`,tid:n,cid:"math",text:`${i} × ? = ${a}`,answer:`${r}`,variants:[r,r+1,r>10?r-10:r+2,r>0?r-1:r+3].map(e=>e.toString())}))}return{topic:{cid:"math",id:n,name:`Daugyba iki ${s}`},items:t}}function w(e,s){const t=[],n=`sub${s}`;for(let i=0;i<s;i++)for(let r=0;r<s;r++){const a=i-r;a>=e&&(t.push({id:`${n}_${i}_${r}`,tid:n,cid:"math",text:`${i} - ${r} = ?`,answer:`${a}`,variants:[a,a+1,a>10?a-10:a+2,a>0?a-1:a+3].map(e=>e.toString())}),t.push({id:`${n}_${s}_${i}_${r}m`,tid:n,cid:"math",text:`${i} - ? = ${a}`,answer:`${r}`,variants:[r,r+1,r>10?r-10:r+2,r>0?r-1:r+3].map(e=>e.toString())}))}return{topic:{cid:"math",id:n,name:`Atimtis iki ${s}`},items:t}}const y={id:"math",name:"Matematika",svg:'\n  <rect style="fill:#fff" width="100%" height="100%" />\n  <path\n    d="M 640,0 H 0 v 480 h 640 m -296.35301,-376.90612 29.3332,-29.333393 37.3334,37.333393 37.3334,-37.333393 29.3332,29.333393 -37.3332,37.3332 37.3332,37.3334 -29.3332,29.3334 -37.3334,-37.3334 -37.3334,37.3334 -29.3332,-29.3334 37.3332,-37.3334 -37.3332,-37.3332 m -181.3334,16 h 133.3334 v 40 h -133.3334 v -40 m 141.3334,221.3332 h -53.3334 v 53.3334 h -40 v -53.3334 h -53.3334 v -40 h 53.3334 v -53.3332 h 40 v 53.3332 h 53.3334 v 40 m 173.3332,32 h -133.3332 v -40 h 133.3332 v 40 m 0,-64 h -133.3332 v -40 h 133.3332 z"\n    style="fill: #807fe2"\n  />'},b=[],N=[];[j(5),j(10),j(20),f(0,10),f(11,20),f(21,100),w(0,10),w(11,20),w(21,100),v(0,10),v(11,20),v(21,100),g(1,10,1),g(11,20),g(21,100)].forEach(e=>{b.push(e.topic),N.push(...e.items)});const _={course:y,topics:b,items:N};function k(t,n,i=""){const r=e.createContext(null),a=e.createContext(null);return[({children:i})=>{const[o,c]=e.useReducer(t,n);return s.createElement(a.Provider,{value:c},s.createElement(r.Provider,{value:o},i))},function(){const e=s.useContext(r);if(null===e)throw new Error(`${i} useState must be used within a Provider`);return e},function(){const e=s.useContext(a);if(!e)throw new Error(`${i} useDispatch must be used within a Provider`);return e}]}const $="2.0.0",C="Audrius Kovalenko",{navigator:S,screen:q,matchMedia:I,speechSynthesis:P}=window,z=S.userAgent||"",E=-1!==z.indexOf("Chrome/")&&!("brave"in S)&&!/CriOS|Edg|OPR|Brave|Vivaldi|SamsungBrowser|YaBrowser/i.test(z);function B(e,s){return(s?e.find(e=>e[0]===s):void 0)||e[Math.floor(Math.random()*e.length)]}function O(e,s,t=[]){if((e=Array.from(new Set(e.filter(e=>!t.includes(e))))).length<=s)return e;const n=[],i=new Set;for(;n.length<s;){const s=B(e);i.has(s)||(n.push(s),i.add(s))}return n}const F=e=>{const s=[...e];for(let t=s.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[s[t],s[e]]=[s[e],s[t]]}return s};function A(e,s){return e.reduce((e,t)=>{const n=t[s];return"string"==typeof n&&(e[n]=t),e},{})}function Q(e,s,t){return e.reduce((e,n)=>{const i=n[s]||t;return"string"==typeof i&&(e[i]=e[i]||[],e[i].push(n)),e},{})}function L(e,s=!1){const t={"d.":Math.floor(e/86400),"val.":Math.floor(e/3600)%24,"min.":Math.floor(e/60)%60,s:+(e%60).toFixed(1)},n=Object.entries(t).filter(e=>0!==e[1]).map(e=>e[1]+" "+e[0]);return s?n:n.join(" ")}function T(e){return e?e.replace(/[.?!]+$/g,""):""}function M(e){return e.replace(/^.:/g,"")}function D(e){return e.replace(/[ .?,!:;/]/g,"-")}const R=e=>Math.abs(e.split("").map(e=>e.charCodeAt(0)).reduce((e,s)=>e+((e<<7)+(e<<3))^s)).toString(16);function W(e){const s=new Set,t=e.reduce((e,t)=>(s.has(t.tid)||(s.add(t.tid),Object.hasOwn(e,t.cid)||(e[t.cid]=[]),e[t.cid].push(t)),e),{});return s.clear(),t}const H=async(e,s,t,n={},i=10,r=[])=>{const a=s[t];let o="function"==typeof a[0].generate?a[0].generate():function(e,s,t={}){if(e.length<=s)return O(e,s);const{notMastered:n,failed:i,seen:r}=U(e,t),a=A(e,"id");for(;n.length<s;){const e=i.length?i:r,s=B(e);e.splice(e.indexOf(s),1),n.push(a[s])}return O(n,s)}(a,i||10,n);for(const l of o)Object.hasOwn(e,l.id)||(e[l.id]=l);r.length&&(o=r.map(s=>e[s]));const c=Date.now();return{id:c,start:c,isFinished:!1,topicId:t,questions:o.map(s=>({id:s.id,pid:s.pid,text:s.text,picture:s.picture,type:s.type,variants:J(e,s),speak:s.speak,speakLang:s.speakLang}))}};function J(e,s){if("sentence"===s.type)return F(s.variants);if(Array.isArray(s.variants)){const n=Array.isArray(s.answer)?s.answer:[s.answer];return F((t=[...s.variants.map(s=>function(e,s){const t=s.match(/\${id:(.+)}/)?.[1];return t?e[t].answer:s}(e,s)),...n],[...new Set(t)]))}var t;throw new Error("not supported variants")}function U(e,s={}){const t=new Set(e.map(e=>e.id)),{seen:n,failed:i}=Object.entries(s).reduce((e,[s,n])=>{if(t.has(s)){e[0===n?"seen":"failed"].push(s)}return e},{seen:[],failed:[]}),r=e.filter(e=>!n.includes(e.id)||i.includes(e.id)),a=new Set(r.map(e=>e.id)),o=i.filter(e=>!a.has(e));let c=100*n.length/t.size;return c>100&&(c=100),{progress:c,seen:n,failed:o,notMastered:r}}function V(e,s){let t=0,n=0;const i={},r={},a={};for(const o of e.questions){const e=s[o.id];if(!e)throw new Error(`Question ${o.id} not found`);const c=o.answers||[],l=Array.isArray(e.answer);r[o.id]=l?e.answer.map(e=>o.variants.indexOf(e)):[o.variants.indexOf(e.answer)];let d=!1;if("sentence"===e.type)r[o.id]=e.answer,c[0]!==T(e.answer)&&(d=!0);else if(l){const s=c.map(e=>o.variants[e]).sort().join(",");d=e.answer.sort().join(",")!==s}else 1===c.length&&e.answer===o.variants[c[0]]||(d=!0);d?(i[o.id]=!0,n++):t++,e.explanation&&(a[o.id]=e.explanation)}return{correctCount:t,wrongCount:n,wrong:i,correct:r,explanation:a}}const K="courses/load-success",G="courses/import-success",Y="courses/toggled",X=(e,s=[],t=[],n=[])=>{const i=[...e.allQuestions,...n],r=[...e.courses.filter(e=>void 0===s.find(s=>s.id===e.id)),...s],a=[...e.topics.filter(e=>void 0===t.find(s=>s.id===e.id)),...t];return{courses:r,coursesById:A(r,"id"),topics:a,topicsById:A(a,"id"),topicsByCourseId:Q(a,"cid"),allQuestions:i,questionsById:A(i,"id"),questionsByParentId:Q(i,"pid"),questionsByTopicId:Q(i,"tid"),questionsByCourseId:W(i)}};const Z=new class{dbName="";storeName="";db=null;constructor(e="_mokutis_db",s="docs"){this.dbName=e,this.storeName=s,this.db=null}async _init(){return this.db?this.db:new Promise((e,s)=>{const t=indexedDB.open(this.dbName,1);t.onupgradeneeded=e=>{const s=e.target.result;s.objectStoreNames.contains(this.storeName)||s.createObjectStore(this.storeName,{keyPath:"id"})},t.onsuccess=s=>{this.db=s.target.result,e(this.db)},t.onerror=e=>s(e.target.error)})}async get(e){const s=await this._init();return new Promise((t,n)=>{const i=s.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);i.onsuccess=e=>{if(!e.target.result){const e=new Error;e.status=404,n(e)}t(e.target.result)},i.onerror=e=>n(e.target.error)})}async put(e){const s=await this._init();return new Promise((t,n)=>{const i=s.transaction(this.storeName,"readwrite").objectStore(this.storeName),r={...e,_rev:(e._rev||0)+1},a=i.put(r);a.onsuccess=()=>t(r),a.onerror=e=>n(e.target.error)})}},ee=async()=>{try{const{courses:e}=await Z.get("courses"),{topics:s}=await Z.get("topics"),{items:t}=await Z.get("items");return{courses:e||[],topics:s||[],items:t||[]}}catch(e){if(404!==e.status)throw e;return{courses:[],topics:[],items:[]}}},se=async({courses:e,topics:s,items:t})=>Promise.all([Z.put({id:"courses",courses:e}),Z.put({id:"topics",topics:s}),Z.put({id:"items",items:t})]),te=e=>{if("string"==typeof e)return e;if(!e.text)throw new Error("Missing text");return e.text},ne=(e,s)=>e.reduce((e,[t,n])=>(n===s&&e.push(M(t)),e),[]);function ie(e){const s=[],t=[],n=[],i=[];for(const[a,o]of Object.entries(e)){const e="object"==typeof o?{text:o.text??"",...o}:{text:o},r=te(e);s.push(M(a)),t.push(r),n.push([a,e]),i.push([a,r])}const r={};for(const[,a]of i)r[a]=ne(i,a);return{lang_words:s,lt_words:t,pairs:i,blacklist:r,rawPairs:n}}function re(e,s,t){const n=ie(t),{rawPairs:i,lang_words:r,lt_words:a,blacklist:o}=n,c=[];for(const[l,d]of i){const{text:t,extraVariants:n=[],...i}=d,u=l.startsWith("S:"),h=u||l.startsWith("s:"),p=D(`${s}_${l}`),m=D(`${s}__${l}`),x=M(l);if(u||c.push({id:p,tid:s,cid:e,text:x,answer:t,variants:[t,...O(a,2,[t])],speak:"text",vocab:!0,...i}),c.push({id:m,pid:h?p:void 0,tid:s,cid:e,text:t,answer:x,variants:h?[...T(x).split(" "),...n]:[x,...O(r,2,o[t])],speak:h?void 0:"variants",type:h?"sentence":void 0,vocab:u?{text:x,answer:t}:void 0}),d.conjugations){const t=["io","tu","lui/lei","noi","voi","loro"],n=["present","past","future"],i=["presente","passato","futuro"];d.conjugations.present.includes("-")||n.forEach((n,r)=>{t.forEach((t,a)=>{const o=d.conjugations?.[n];if(o){const l=D(`${p}__${t}__${n.slice(0,2)}`),d=o[a],u=o.filter(e=>e!==d);c.push({id:l,pid:p,tid:s,cid:e,text:`${t} __ (${i[r]})`,answer:d,variants:[d,...O(u,2)],speak:"variants"})}})})}}return{questions:c,dict:n}}ie({});const[ae,oe,ce]=k((e,s)=>{switch(s.type){case K:return X({courses:[],topics:[],allQuestions:[]},s.payload.courses,s.payload.topics,s.payload.items);case G:return X(e,s.payload.courses,s.payload.topics,s.payload.items);case Y:return{...e,courses:e.courses.map(e=>e.id===s.payload?{...e,isEnabled:!1===e.isEnabled}:e)};default:throw new Error(`Unknown courses event: ${JSON.stringify(s)}`)}},{courses:[],coursesById:{},topics:[],topicsById:{},topicsByCourseId:{},allQuestions:[],questionsById:{},questionsByParentId:{},questionsByTopicId:{},questionsByCourseId:{}},"courses"),le=()=>{const s=ce(),t=e.useCallback(async()=>{const e=(await x(async()=>{const{default:e}=await import("./index-BUNf0g9U.js");return{default:e}},__vite__mapDeps([0,1]))).default,t=(await x(async()=>{const{default:e}=await import("./index-DEjiMst8.js");return{default:e}},__vite__mapDeps([2,1]))).default,n=await ee();let i={};try{const e=window.localStorage.getItem("extensions");i=e?JSON.parse(e):i}catch{}const r=[_.course,e.course,t.course,...n.courses].map(e=>({...e,isEnabled:!1!==i[e.id]})),a=[..._.topics,...e.topics,...t.topics,...n.topics],o=[..._.items,...e.items,...t.items,...n.items];s({type:K,payload:{courses:r,topics:a,items:o}})},[s]),n=e.useCallback(async e=>{const t=await ee(),n={courses:[...t.courses.filter(s=>s.id!==e.courses.find(e=>e.id===s.id)?.id),...e.courses],topics:[...t.topics.filter(s=>s.id!==e.topics.find(e=>e.id===s.id)?.id),...e.topics],items:[...t.items.filter(s=>s.id!==e.items.find(e=>e.id===s.id)?.id),...e.items]};await se(n),s({type:G,payload:n})},[s]),i=e.useCallback(e=>{s({type:Y,payload:e})},[s]),r=e.useCallback(async e=>{const s=await ee(),n={courses:s.courses.filter(s=>s.id!==e),topics:s.topics.filter(s=>s.cid!==e),items:s.items.filter(s=>s.cid!==e)};await se(n),t()},[t]);return{loadCourses:t,importCourse:n,toggleCourse:i,deleteCourse:r}},de=async e=>Z.put(e),ue="profile/load-success",he="profile/save-success",[pe,me,xe]=k((e,s)=>{switch(s.type){case ue:return{...s.payload};case he:return{...e,...s.payload};default:throw new Error(`Unknown profile event: ${JSON.stringify(s)}`)}},{id:"default",stats:{}},"profile"),fe=()=>{const s=xe();return{loadProfile:e.useCallback(async()=>{const e=await(async(e="profile_default")=>{try{return await Z.get(e)||{id:e,stats:{}}}catch(s){if(404!==s.status)throw s;const t={id:e,name:"default",stats:{}};return Z.put(t).then(()=>Z.get(e))}})();s({type:ue,payload:e})},[s]),updateProfile:e.useCallback(async e=>{const t=await de(e);s({type:ue,payload:t})},[s]),resetProfileStats:e.useCallback(async e=>{const t=await de({...e,stats:{}});s({type:ue,payload:t})},[s])}};function je(){return t.jsxs("div",{className:"flex bottom justify-evenly surface-container",children:[t.jsx(n,{to:"/",end:!0,children:t.jsx("button",{className:"circle transparent responsive",children:t.jsx("i",{children:"home"})})}),t.jsx(n,{to:"/stats",children:t.jsx("button",{className:"circle transparent responsive",children:t.jsx("i",{children:"analytics"})})})]})}const ge=(...e)=>e.filter(Boolean).join(" "),ve={home:"Pradžia",about:"Apie",extensions:"Plėtiniai",stats:"Statistika",learned:"Išmokta",accuracy:"Tikslumas",speed:"Greitis","are.you.sure":"Ar tikrai?",reset:"Trinti statistiką",yes:"Taip",no:"Ne",import:"Pridėti","multi-table":"Daugybos lentelė","div-table":"Dalybos lentelė",finish:"Baigti",results:"Rezultatai",repeat:"Pakartoti",next:"Kitas",time:"Laikas","all-correct":"Puikiai!",errors:"Klaidos"},we=e=>ve[e]||e,ye=()=>({t:we});function be({onClick:e}){const{t:s}=ye();return t.jsxs("nav",{className:"drawer",children:[t.jsxs(i,{to:"/about",onClick:e,children:[t.jsx("i",{children:"info"}),t.jsx("span",{className:"max",children:s("about")})]}),t.jsxs(i,{to:"/extensions",onClick:e,children:[t.jsx("i",{children:"extension"}),t.jsx("span",{className:"max",children:s("extensions")})]})]})}const Ne="_header_1f9wy_1",_e="_nav_1f9wy_5",ke="_tabs_1f9wy_10",$e="_toggleColor_1f9wy_14",Ce="_icon_1f9wy_21";function Se(){const s="theme",n="dark",[i,r]=e.useState(()=>window.localStorage.getItem(s)===n),a=i?"nightlight":"light_mode";e.useLayoutEffect(()=>{document.body.classList.toggle(n,i)},[i]);const o=e.useCallback(()=>{r(e=>(window.localStorage.setItem(s,e?"light":n),!e))},[r]);return t.jsx("div",{className:$e,children:t.jsxs("label",{className:"flex items-center cursor-pointer relative",children:[t.jsx("input",{type:"checkbox",checked:i,onChange:o,className:"cursor-pointer invisible",name:"color-scheme-dark"}),t.jsx("span",{className:Ce,children:t.jsx("i",{className:"fill",children:a})})]})})}function qe({size:e=1,className:s,svg:n}){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 480",style:{width:1.5*e+"rem",height:1.5*e+"rem"},className:s,dangerouslySetInnerHTML:{__html:n}})}function Ie({svg:e,iconName:s}){return s?t.jsx("i",{children:s}):e?t.jsx(qe,{className:"responsive",svg:e,size:1.25}):t.jsx("i",{children:"extension"})}function Pe(){const[s,i]=e.useState(!1),{pathname:a}=r(),{courses:o}=oe(),c=e.useCallback(()=>i(!s),[s,i]);return t.jsxs("div",{className:Ne,children:[t.jsxs("nav",{className:ge("top",_e),children:[t.jsx("button",{className:"circle transparent",onClick:c,children:t.jsx("i",{children:"menu"})}),t.jsx("div",{className:ge(ke,"tabs max left-align"),children:(o.filter(e=>!1!==e.isEnabled)||[]).map(e=>t.jsx(n,{to:`/${e.id}`,end:e.id.length>0,className:ge("responsive",e.id&&a.includes(`/${e.id}`)&&"active"),children:t.jsx(Ie,{...e})},e.id))}),t.jsx(Se,{})]}),t.jsxs("div",{children:[t.jsx("div",{className:ge("overlay",s&&"active"),onClick:c}),t.jsx("dialog",{className:ge("left no-padding",s&&"active"),open:s,children:t.jsx(be,{onClick:c})})]})]})}function ze({children:e}){return t.jsx("h4",{className:"small",children:e})}const Ee="_table_1s1vw_1",Be="_th_1s1vw_14",Oe="_selected_1s1vw_18";function Fe({op:s="mul",title:n="multi-table",x:i=6,y:r=5}){const[a,o]=e.useState({x1:i,y1:r}),{x1:c,y1:l}=a;let d,u="×";return"div"===s?(u="÷",d=c>-1&&l>-1&&`${c*l} ÷ ${c} = ${l}`):d=c>-1&&l>-1&&`${l} × ${c} = ${c*l}`,t.jsxs("div",{className:ge("flex flex-col"),children:[t.jsx(ze,{children:n}),t.jsx("table",{className:Ee,children:t.jsx("tbody",{children:Array.from({length:11},(e,s)=>t.jsx("tr",{children:Array.from({length:11},(e,n)=>{const i=s,r=n;let c=Math.max(((e,s)=>e*s)(i,r),i,r);return 0===i&&0===r&&(c=u),t.jsx("td",{onClick:()=>o(e=>s+n===0?{x1:-1,y1:-1}:{y1:s||e.y1,x1:n||e.x1}),className:ge((0===i||0===r)&&Be,(n===a.x1||s===a.y1)&&(a.x1<0||a.y1<0||n<=a.x1&&s<=a.y1)&&Oe),children:c},n)})},s))})}),d&&t.jsx("h5",{className:"center-align",children:d})]})}function Ae({children:e}){return t.jsx(t.Fragment,{children:e})}function Qe(){const{t:s}=ye(),{questionsByTopicId:n}=oe(),[i,r]=e.useState(!1),a=Object.entries((()=>{const e={version:$,author:C,standalone:!!I("(display-mode: standalone)").matches},s=(s,t)=>{void 0!==t&&""!==t&&null!=t&&(e[s]=t)};if(s("vendor",S.vendor),s("platform",S.platform),s("language",S.language),e.tts=E?"Web Speech API":"OSS",e.userAgent=z,e.screenSize=q?`${q.width}x${q.height}`:"",e.devicePixelRatio=window.devicePixelRatio||1,P&&"function"==typeof P.getVoices){const s=P.getVoices();if(s&&s.length){const t=e=>{const s=e.toLowerCase();return s.includes("italia")||s.includes("english")},n=[];for(let e=0;e<s.length;e++){const i=s[e];t(i.name)&&n.push(`${i.name} (${i.lang})`)}n.length&&(e.voices=n.join(", "))}}return e})()).map(([e,s])=>`${e}: ${s}`).join("\n");return t.jsxs(Ae,{children:[t.jsx(Ae.Header,{title:s("about")}),t.jsxs(Ae.Content,{children:[t.jsx("pre",{children:a}),false]})]})}Ae.Header=function({title:e,className:s,...n}){return t.jsx("div",{className:ge(s),...n,children:e&&t.jsx(ze,{children:e})})},Ae.Content=function({className:e,...s}){return t.jsx("div",{className:ge(e),...s})},Ae.Footer=function({className:e,...s}){return t.jsx("div",{className:ge("mt-auto",e),...s})};const Le={list:"_list_9zeff_1",item:"_item_9zeff_1",canTogggle:"_canTogggle_9zeff_10",toggle:"_toggle_9zeff_15",details:"_details_9zeff_19",open:"_open_9zeff_29"};function Te({children:e}){return t.jsx("ul",{className:ge(Le.list,"list border"),children:e})}function Me({title:e,onClose:s}){const{t:n}=ye();return t.jsxs("dialog",{open:!0,children:[t.jsx("h5",{children:e}),t.jsx("div",{}),t.jsxs("nav",{className:"right-align no-space",children:[t.jsx("button",{className:"transparent link",onClick:()=>s(!1),children:n("no")}),t.jsx("button",{className:"transparent link",onClick:()=>s(!0),children:n("yes")})]})]})}Te.Item=function({head:s,tail:n,text:i,subText:r,children:a,className:o}){const[c,l]=e.useState(!1),d=e.useCallback(e=>e.stopPropagation(),[]),u=e.useCallback(()=>l(!c),[c,l]);return Array.isArray(a)&&a.every(e=>void 0===e)&&(a=void 0),t.jsxs("li",{className:ge(Le.item,"no-margin",a&&Le.canTogggle,o),onClick:a?u:void 0,children:[t.jsxs("div",{className:ge(Le.headline,"flex items-center max"),children:[s,(i||r)&&t.jsxs("div",{className:ge("ml-sp2 wrap-auto"),children:[t.jsx("strong",{children:i}),r&&t.jsx("div",{className:"italic",children:r})]}),n]}),a&&t.jsx("button",{className:ge(Le.toggle,"circle transparent"),children:t.jsx("i",{children:c?"expand_less":"expand_more"})}),a&&t.jsx("div",{className:ge(Le.details,c&&Le.open),onClick:d,children:a})]})};const De=async()=>{const e=document.createElement("input");return e.type="file",e.accept=".json.gz",new Promise(s=>{e.onchange=async e=>{const t=e.target.files[0],n=await(async e=>{const s=e.stream().pipeThrough(new DecompressionStream("gzip")),t=await new Response(s).text();return JSON.parse(t)})(t);s(n)},e.click()})};function Re({svg:e}){return e?t.jsx(qe,{svg:e,size:1.5}):t.jsx("i",{children:"extension"})}function We(){const{t:s}=ye(),{importCourse:n,toggleCourse:i,deleteCourse:r}=le(),{courses:a}=oe(),[o,c]=((s,t="")=>{const[n,i]=e.useState(()=>{try{return window.localStorage.getItem(s)||t}catch{return t}}),r=e.useCallback(e=>{try{i(e),window.localStorage.setItem(s,e)}catch{}},[s]);return e.useLayoutEffect(()=>{try{const e=window.localStorage.getItem(s);e&&i(e)}catch{}},[s]),[n,r]})("extensions"),[l,d]=e.useState(""),u=e.useMemo(()=>JSON.parse(o||"{}"),[o]);return t.jsxs(Ae,{children:[t.jsx(Ae.Header,{title:s("extensions")}),t.jsxs(Ae.Content,{children:[t.jsx(Te,{children:a.map(e=>t.jsx(Te.Item,{text:e.name,head:t.jsx(Re,{...e}),tail:t.jsxs("span",{className:"ml-auto flex",children:[t.jsxs("label",{className:"switch ml-auto",children:[t.jsx("input",{type:"checkbox",checked:!1!==u[e.id],onChange:s=>{const t={...u,[e.id]:s.target.checked};s.target.checked&&delete t[e.id],c(JSON.stringify(t)),i(e.id)}}),t.jsx("span",{})]}),t.jsx("button",{className:"transparent circle",disabled:["math","en","it"].includes(e.id),onClick:()=>d(e.id),children:t.jsx("i",{className:"large ml-sp2 disabled",children:"delete"})})]})},e.id))}),t.jsx("div",{className:"center-align large-padding",children:t.jsx("button",{onClick:async()=>{try{const e=await De();n(e)}catch(e){console.error("Failed to copy: ",e)}},type:"button",className:"mt-sp2 small-round",children:s("import")})}),l&&t.jsx(Me,{title:s("are.you.sure"),onClose:e=>{e&&r(l),d("")}})]})]})}const He=()=>{const s=Ge(),t=me(),{updateProfile:n}=fe(),i=e.useCallback(()=>{if(s&&s.isFinished&&s.id>0){const e=function(e={},s){const{wrong:t,wrongCount:n,questions:i}=s,r=s.topicId,a=(s.time+(e[r]||s.time))/2,o=(e.keys||"").split(" ");0!==n||o.includes(r)||o.push(r);const c={...e,[r]:a,keys:o.join(" ").trim()};return i.forEach(({id:e})=>{const s=t[e],n=Number(c[e]||0);c[e]=s?3:Math.max(n-1,0)}),c}(t.stats,s);return n({...t,stats:e}),!0}return!1},[s,t,n]);return((s,t)=>{let n=!0;const i=e.useRef(null);e.useEffect(()=>{if(null!=s)return i.current!==s&&Promise.resolve(t()).then(e=>{n&&e&&(i.current=s)}),()=>{n=!1}},[s,t])})(s?.id,i),null},Je="quiz/start",Ue="quiz/finish",Ve="quiz/answer-question",[Ke,Ge,Ye]=k((e,s)=>{switch(s.type){case Je:return{...s.payload};case Ue:return!e||e.isFinished?e:{...e,...V(e,s.payload),isFinished:!0,time:Date.now()-e.start,ts:Date.now()};case Ve:{if(!e||e.isFinished)return e;const{id:t,answers:n}=s.payload,{questions:i}=e;return{...e,questions:i.map(e=>e.id===t?{...e,answers:n}:{...e})}}default:throw new Error(`Unknown questions event: ${JSON.stringify(s)}`)}},void 0,"quiz"),Xe=()=>{const s=Ye(),{questionsById:t,questionsByTopicId:n}=oe(),{stats:i}=me();return{startQuiz:e.useCallback(async(e,r=[])=>{const a=await H(t,n,e,i,r.length,r);return s({type:Je,payload:a}),new Promise(e=>setTimeout(e,100))},[s,t,n,i]),finishQuiz:e.useCallback(async()=>(s({type:Ue,payload:t}),new Promise(e=>setTimeout(e,100))),[s,t]),answerQuestion:e.useCallback((e,t)=>{s({type:Ve,payload:{id:e,answers:t}})},[s])}},Ze=({children:e})=>t.jsxs(Ke,{children:[t.jsx(He,{}),e]});function es(){const{t:n}=ye(),o=a(),c=r(),{startQuiz:l}=Xe(),d=oe(),{questionsByTopicId:u,courses:h,topicsByCourseId:p}=d,{stats:{keys:m}}=me(),x=c.pathname.substring(1)||h[0]?.id,f=e.useMemo(()=>p[x]||[],[p,x]),j=e.useMemo(()=>{const e=new Set;return f.forEach((s,t,n)=>{t>0&&((e,s="")=>(e.startsWith("en")||e.startsWith("it"))&&!s.includes(e))(n[t-1].id,m)&&e.add(s.id)}),e},[f,m]);return t.jsxs(Ae,{children:[t.jsx(Ae.Header,{title:n("home")}),t.jsx(Ae.Content,{children:f.map(({id:e,name:n},r)=>{return t.jsxs(s.Fragment,{children:[t.jsxs("div",{className:ge("flex items-center",(r+1)%3!=0&&"pb-sp1"),children:[t.jsx("button",{disabled:j.has(e),className:ge("responsive small-round m-0 mr-sp1"),onClick:()=>(e=>{l(e).then(()=>o("/quiz"))})(e),children:n}),(a=e,c=j.has(e),u[a][0].vocab&&!c?t.jsx(i,{to:`/words/${a}`,children:t.jsx("i",{className:"large",children:"import_contacts"})}):a.startsWith("mul")?t.jsx(i,{to:"/mtable",children:t.jsx("i",{className:"large",children:"import_contacts"})}):a.startsWith("div")?t.jsx(i,{to:"/dtable",children:t.jsx("i",{className:"large",children:"import_contacts"})}):c?t.jsx("div",{children:t.jsx("i",{className:"large",children:"lock"})}):t.jsx("div",{children:t.jsx("i",{className:"large",children:" "})}))]}),r+1<f.length&&(r+1)%3==0&&t.jsx("hr",{className:"small"})]},r);var a,c})})]})}let ss=null,ts=null;const ns=/\([^)]+\)/gm,is=(e,s="en",t=()=>{},n=()=>{})=>{if(!e)return;if(!E){const t=(e=>{const s=[R(e)];for(let t=0;t<6;t++)s.push(R(s[t]+e));return s.join("").slice(-32)})(e);return ts&&(ts.pause(),ts=null),s=s.split("-")[0],ts=new Audio(`/audio/${s}/${t}.oga`),void ts.play()}const i=window.speechSynthesis;ss&&i.cancel(),e=e.replace(ns,"").trim(),ss=new SpeechSynthesisUtterance(e),s.startsWith("it")?(ss.lang="it-IT",ss.rate=1):(ss.lang="en-US",ss.rate=.8),t&&ss.addEventListener("start",t),n&&ss.addEventListener("end",n),i.speak(ss)},rs=({text:s,lang:n="en",className:i="small",asLink:a=!1,size:o,children:c})=>{const{pathname:l}=r();l.includes("/en")&&(n="en"),l.includes("/it")&&(n="it"),e.useEffect(()=>()=>{window.speechSynthesis.cancel()},[]);const d=e.useCallback(e=>{e.stopPropagation(),is(s,n)},[s,n]),u=a?"a":"button";return t.jsx(u,{onClick:d,className:ge("border small-round square",i),children:c||t.jsx("i",{className:ge("fill",o),children:"volume_up"})})},as="_option_1pb6x_1",os="_max_1pb6x_8";function cs({options:e,checked:s=[],onChange:n,disabled:i,getClassName:r=()=>"",long:a,speak:o,speakLang:c,topicId:l}){return t.jsx("div",{className:"flex flex-col",children:e.map((e,d)=>i?t.jsx("button",{disabled:!0,className:ge("border small-round large",as,r(d).includes("success")?"success":s.includes(d)?"error":"fill",a?"responsive":os),onClick:()=>n(d,!0,{replace:!0}),children:e},d):t.jsxs("div",{className:"flex",children:[t.jsx("button",{className:ge("border small-round large",as,s.includes(d)?"primary":"fill",a?"responsive":os),onClick:()=>n(d,!0,{replace:!0}),children:e}),o&&t.jsx(rs,{text:e,lang:c||l,className:"large"})]},d))})}const ls=({parts:e,n:s})=>t.jsx("p",{style:{whiteSpace:"pre-line"},children:e.map((e,n)=>t.jsx("span",{style:n===s?{color:"red"}:{},children:e+" "},n))}),ds=/ \(=[^)]+\)/gm,us=({text:s,lang:n="en"})=>{const[i]=e.useState((e=>{const s=[],t=new Set([",",".","!","?",":",";"]);let n=[],i=0;const r=()=>n.length&&s.push(n.join(""));for(;i<e.length;){const s=e[i];n.push(s),t.has(s)&&(r(),n=[]),i++}return r(),{read:s.map(e=>e.replace(ds,"").trim()),parts:s}})(s)),[r,a]=e.useState(-1);e.useEffect(()=>()=>{window.speechSynthesis.cancel()},[]);const o=e.useCallback(()=>{const e=s=>{is(i.read[s],n,()=>a(s),()=>s===i.read.length?a(-1):e(s+1))};e(0)},[n,i]);return t.jsxs("div",{children:[t.jsx("button",{onClick:o,className:"btn btn-lg",children:t.jsx("i",{className:"fill",children:"volume_up"})}),t.jsx(ls,{parts:i.parts,n:r})]})},hs="_pictureContainer_1slf2_1",ps="_picture_1slf2_1",ms="_sign_1slf2_10",xs="_explanation_1slf2_14";function fs({topicId:e,text:s,subText:n,picture:i,explanation:r,body:a,footer:o,speak:c,speakLang:l,read:d}){return t.jsxs(t.Fragment,{children:[i&&t.jsx("div",{className:ge("card-image",hs),children:t.jsx("img",{className:ge(ps,i.includes("q_sign")&&ms),src:`/img/${i}`})}),s&&t.jsxs("div",{className:"r",children:[!d&&t.jsxs("div",{className:"le",children:[!d&&t.jsx("h6",{className:"bold small-padding",children:s}),c&&t.jsx("div",{className:"mb-sp2",children:t.jsx(rs,{text:c,lang:e})})]}),d&&t.jsx("div",{className:"h5 small-padding",children:t.jsx(us,{text:d,lang:l||e})}),n&&t.jsx("div",{children:n})]}),t.jsxs("div",{children:[a&&t.jsx(a,{}),r&&t.jsx("p",{className:xs,children:r})]}),o&&t.jsx("div",{className:"mt-auto",children:t.jsx(o,{})})]})}const js="_sentence_elsah_1";function gs({disabled:s=!1,correct:n,answer:i="",words:r=[],onFinish:a=()=>{}}){const{t:o}=ye(),[c,l]=e.useState(i?i.split(" ").map(e=>r.indexOf(e)):[]);if(s){const e=n!==(i=function(e,s){for(const t of[".","?","!"])if(e.endsWith(t)&&!s.endsWith(t))return s+t;return s}(n,i));return t.jsxs("div",{className:ge("flex flex-col"),children:[e&&t.jsx("button",{disabled:!0,className:ge("border small-round large error",as),children:i}),t.jsx("button",{disabled:!0,className:ge("border small-round large success",as),children:n})]})}return t.jsxs("div",{className:ge("flex flex-col"),children:[t.jsx("div",{className:js,children:c.map((e,s)=>t.jsx("button",{className:ge("chip tiny-margin",r.length<5&&"large"),onClick:()=>l(c.filter(s=>s!==e)),children:r[e]},s))}),t.jsx("br",{}),t.jsx("div",{className:"center-align",children:r.map((e,s)=>t.jsx("button",{className:ge("chip tiny-margin",c.includes(s)?"":"inverse-primary-border",r.length<5&&"large"),disabled:c.includes(s),onClick:()=>l([...c,s]),children:(c.includes(s),e)},s))}),t.jsx("br",{}),!1===s&&t.jsx("button",{className:"border small-round large fill",onClick:()=>a(c.map(e=>r[e]).join(" ")),children:o("next")})]})}class vs extends s.Component{state={};static getDerivedStateFromProps(e,s){const{currentQuestion:t}=e;return t&&t.id!==s.questionId?{answers:t.answers||[],questionId:t.id}:null}onAnswer=(e,s,{replace:t}={})=>{let n=this.state.answers;n=s&&t?[e]:s?[...n,e]:n.filter(s=>s!==e),this.setState({answers:n},()=>this.props.nextQuestionNumber?this.onNext():this.onFinish())};onPrev=()=>this.props.navigate(`/quiz/${this.props.prevQuestionNumber}`);onNext=()=>{const{navigate:e,answerQuestion:s,nextQuestionNumber:t}=this.props,{questionId:n,answers:i}=this.state;s(n,i),e(`/quiz/${t}`)};onFinish=()=>{const{questionId:e,answers:s}=this.state;this.props.answerQuestion(e,s),this.props.finishQuiz(),this.props.navigate("/quiz/results")};getClassName=e=>{const{quiz:s,currentQuestion:t}=this.props;if(s.isFinished){const n=t.id;if(s.correct[n].includes(e))return ge("success")}return""};render(){const{t:e,currentQuestion:s,showResults:i,nextQuestionNumber:r,prevQuestionNumber:a,quiz:o}=this.props;if(!s)return this.props.navigate("/");if(i)return this.props.navigate("/quiz/results");const{type:c,text:l,variants:d,picture:u,speak:h=""}=s,{answers:p,questionId:m}=this.state,x=o.explanation&&o.explanation[m],f=this.props.quiz.isFinished;return t.jsx(fs,{topicId:o.topicId,text:l,picture:u,explanation:x,body:()=>"sentence"===c?t.jsx(gs,{disabled:f,answer:p[0],correct:o.correct?.[m],words:d,onFinish:e=>this.onAnswer(e,!0,{replace:!0})}):t.jsx(cs,{topicId:o.topicId,type:c,checked:p,options:d,getClassName:this.getClassName,disabled:f,onChange:this.onAnswer,speak:h.includes("variants"),long:Boolean(h)},m),footer:()=>t.jsxs("div",{className:"center-align large-padding",children:[t.jsxs("div",{className:"large-padding",children:[t.jsx("button",{className:"no-padding square",onClick:this.onPrev,disabled:!a,children:t.jsx("i",{children:"chevron_backward"})}),t.jsxs("span",{children:[this.props.questionNumber," / ",this.props.questionCount]}),t.jsx("button",{className:"no-padding square",onClick:this.onNext,disabled:!r,children:t.jsx("i",{children:"chevron_forward"})})]}),this.props.quiz.isFinished?t.jsx(n,{to:"/quiz/results",children:t.jsx("button",{className:"fill small-round",children:e("results")})}):t.jsx("button",{className:"fill small-round",onClick:this.onFinish,children:e("finish")})]}),speakLang:s.speakLang,speak:h.includes("text")?l:void 0,read:h.includes("long")?l:void 0})}}const ws=(ys=vs,function(e){const{t:s}=ye(),n=a(),i=o(),{answerQuestion:r,finishQuiz:c}=Xe(),l=Ge(),d=Number(i.questionNumber||1),u=l?.questions?.length??0,h=d>1?d-1:void 0,p=d<u?d+1:void 0,m={...e,t:s,navigate:n,params:i,answerQuestion:r,finishQuiz:c,quiz:l,questionNumber:d,questionCount:u,currentQuestion:l.questions[d-1],prevQuestionNumber:h,nextQuestionNumber:p,showResults:!i.questionNumber&&l.isFinished};return t.jsx(ys,{...m})});var ys;const bs="_numbers_kwdjd_1",Ns="_number_kwdjd_1",_s=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"];function ks(){const s=e.useRef(null);return e.useEffect(()=>{if(s.current){new c(s.current,{colors:_s,particleCount:50,force:.3}).explode()}},[]),t.jsx("div",{ref:s,style:{position:"relative",left:"30%",height:"2px"}})}const $s=()=>{const{t:e}=ye(),s=a(),n=Ge(),{startQuiz:r}=Xe(),{questions:o,wrongCount:c,wrong:l,time:d,ts:u}=n,h=c?`${e("errors")}: ${c}`:e("all-correct"),p=`${e("time")}: ${L(d/1e3)}`;if(!n.isFinished)return t.jsx("div",{children:"No quiz"});return t.jsxs("div",{children:[t.jsx("h6",{children:h}),t.jsx("h6",{children:p}),(0===c||2===o.length)&&Date.now()-u<2e3&&t.jsx(ks,{}),t.jsx("ul",{className:bs,children:o.map((e,s)=>((e,s,n)=>{const r=e.id in n?"error":"success";return t.jsx("li",{className:ge(r,Ns),children:t.jsx(i,{to:`/quiz/${s}`,children:s})},s)})(e,`${s+1}`,l))}),t.jsx("button",{className:"fill small-round",onClick:()=>{r(n.topicId).then(()=>s("/quiz"))},children:e("repeat")})]})},Cs={circleBg:"_circleBg_lw860_1",circle:"_circle_lw860_1",title:"_title_lw860_13",green:"_green_lw860_21",yellow:"_yellow_lw860_25",red:"_red_lw860_29",value:"_value_lw860_33",up:"_up_lw860_46"},Ss=100/(2*Math.PI),qs=2*Ss,Is=`M 24 2.0845\n   a ${Ss} ${Ss} 0 0 1 0 ${qs}\n   a ${Ss} ${Ss} 0 0 1 0 -${qs}`;function Ps({percentage:e=0,className:s,title:n="",value:i,onClick:r=()=>{}}){const a=function(e){if(e>79)return Cs.green;if(e>49)return Cs.yellow;return Cs.red}(e);return void 0===i&&(i=[(e<100?e.toFixed(2):e)+"%"]),t.jsx("div",{className:s,onClick:r,children:t.jsxs("div",{children:[t.jsx("div",{className:ge(Cs.value,i.length>1&&Cs.up),children:i.map((e,s)=>t.jsx("span",{children:e},s))}),t.jsxs("svg",{viewBox:"0 0 48 48",className:ge(Cs.circularChart),children:[t.jsx("path",{className:Cs.circleBg,d:Is}),t.jsx("path",{className:ge(Cs.circle,a),strokeDasharray:`${e}, 100`,d:Is}),t.jsx("text",{x:24,y:40.8,className:Cs.title,children:n})]})]})})}function zs({svg:e}){return e?t.jsx(qe,{svg:e,size:1.5}):t.jsx("i",{children:"extension"})}function Es(){const{t:s}=ye(),n=a(),i=oe(),{courses:r,coursesById:o,topicsById:c,questionsByTopicId:l}=i,[d,u]=e.useState(!1),h=me(),{resetProfileStats:p}=fe(),{startQuiz:m}=Xe(),x=((e,s)=>{const t=s.stats||{},n=Object.entries(t).reduce((e,[s,t])=>{const n=s.split("_")[0];if(n===s)return e;const i=e[n]||{correct:0,total:0};return e[n]={correct:i.correct+(0===t?1:0),total:i.total+1},e},{}),i=Object.keys(e).reduce((s,i)=>{if(Object.hasOwn(n,i)){const{correct:r,total:a}=n[i];s.push({...n[i],tid:i,accuracy:r/a*100,speed:t[i]/1e3,progress:U(e[i],t).progress})}return s},[]);return Object.entries(i.reduce((s,t)=>{const n=e[t.tid][0].cid;return s[n]=s[n]||[],s[n].push(t),s},{}))})(l,h),f="relative min-w-[100px] max-w-[350px]";return t.jsxs(Ae,{children:[t.jsx(Ae.Header,{title:s("stats")}),t.jsx(Ae.Content,{children:t.jsx(Te,{children:x.map(([e,i])=>{return t.jsx(Te.Item,{text:o[e].name,head:t.jsx(zs,{...(a=e,r.find(e=>e.id===a)||r[0])}),children:i.map(e=>t.jsxs("div",{children:[t.jsx("h6",{children:c[e.tid].name}),t.jsxs("div",{className:"grid",children:[t.jsx(Ps,{onClick:()=>m(e.tid).then(()=>n("/quiz")),percentage:e.progress,className:ge(f,"s4","cursor-pointer"),title:s("learned")}),t.jsx(Ps,{percentage:e.accuracy,className:ge(f,"s4"),title:s("accuracy")}),t.jsx(Ps,{percentage:e.speed<50?100:e.speed<70?90:e.speed<140?66:e.speed<210?33:0,value:L(e.speed,!0),className:ge(f,"s4"),title:s("speed")})]})]},e.tid))},e);var a})})}),t.jsxs(Ae.Footer,{children:[x.length>0&&t.jsx("div",{className:"center-align large-padding",children:t.jsx("button",{className:"mt-sp2 small-round",onClick:()=>u(!0),children:s("reset")})}),d&&t.jsx(Me,{title:s("are.you.sure"),onClose:e=>{u(!1),e&&p(h)}})]})]})}function Bs({topicId:e,text:s}){return t.jsx(rs,{asLink:!0,className:"no-border no-padding no-margin small",lang:e,text:s,children:s})}function Os({topicId:e,conjugations:{present:s=[],past:n=[],future:i=[],imperfect:r=[]}}){return t.jsxs("table",{className:ge("border no-space small-text wrap-auto"),onClick:e=>{e.stopPropagation()},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{}),t.jsx("th",{children:"io"}),t.jsx("th",{children:"tu"}),t.jsx("th",{children:"Lei/lui/lei"}),t.jsx("th",{children:"noi"}),t.jsx("th",{children:"voi"}),t.jsx("th",{children:"loro"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("span",{className:ge("italic lg"),children:"presente"})}),s.map((s,n)=>t.jsx("td",{children:t.jsx(Bs,{topicId:e,text:s})},s+n))]}),t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("span",{className:ge("italic lg"),children:"passato prossimo"})}),n.map((s,n)=>t.jsx("td",{children:t.jsx(Bs,{topicId:e,text:s})},s+n))]}),r.length>0&&t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("span",{className:ge("italic lg"),children:"imperfetto"})}),r.map((s,n)=>t.jsx("td",{children:t.jsx(Bs,{topicId:e,text:s})},s+n))]}),t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("span",{className:ge("italic lg"),children:"futuro semplice"})}),i.map((s,n)=>t.jsx("td",{children:t.jsx(Bs,{topicId:e,text:s})},s+n))]})]})]})}function Fs({rows:e=[]}){const[s,...n]=e;return t.jsxs("table",{className:ge("border no-space small-text wrap-auto"),onClick:e=>{e.stopPropagation()},children:[t.jsx("thead",{children:t.jsx("tr",{children:s.map((e,s)=>t.jsx("th",{children:e},e+s))})}),t.jsx("tbody",{children:n.map((e,s)=>t.jsx("tr",{children:e.map((e,s)=>t.jsxs("td",{children:[" ",e," "]},e+s))},s))})]})}function As(){const{id:s}=o(),n=a(),{questionsByTopicId:i,topicsById:r,questionsByParentId:c}=oe(),{startQuiz:l}=Xe();let d=i[s];const u=d[0];return d=("function"==typeof u.vocab?u.vocab():d).filter(e=>Boolean(e.vocab)),e.useCallback(e=>{const t=e.reduce((e,s)=>{e.push(s.id);const t=c[s.id];return t&&t.length&&e.push(...t.map(e=>e.id)),e},[]);l(s||"",t).then(()=>n("/quiz"))},[s,n,c,l]),d?t.jsxs(Ae,{children:[t.jsx(Ae.Header,{title:r[s].name+` (${d.length})`}),t.jsx(Ae.Content,{children:t.jsx(Te,{children:d.map(e=>t.jsxs(Te.Item,{head:t.jsx(rs,{text:"object"==typeof e.vocab&&e.vocab?.text||e.text,lang:s,className:"no-padding no-margin"}),text:"object"==typeof e.vocab&&e.vocab?.text||e.text,subText:"object"==typeof e.vocab&&e.vocab?.answer||e.answer,children:[e.conjugations?t.jsx(Os,{...e,topicId:s}):void 0,Array.isArray(e.table)?t.jsx(Fs,{rows:e.table}):void 0,void 0]},e.id))})})]}):null}function Qs(){const{t:e}=ye();return t.jsxs(l,{children:[t.jsx(d,{path:"/about",element:t.jsx(Qe,{})}),t.jsx(d,{path:"/extensions",element:t.jsx(We,{})}),t.jsx(d,{path:"/mtable",element:t.jsx(Fe,{title:e("multi-table")})}),t.jsx(d,{path:"/dtable",element:t.jsx(Fe,{title:e("div-table"),op:"div"})}),t.jsxs(d,{element:t.jsx(Ls,{}),children:[t.jsx(d,{path:"/words/:id",element:t.jsx(As,{})}),t.jsx(d,{path:"/stats",element:t.jsx(Es,{})}),t.jsx(d,{path:"/quiz/results",element:t.jsx($s,{})}),t.jsx(d,{path:"/quiz/:questionNumber?",element:t.jsx(ws,{})}),t.jsx(d,{path:"/:course?",element:t.jsx(es,{})})]})]})}function Ls(){return t.jsx(Ze,{children:t.jsx(u,{})})}function Ts(){const s=e.useRef(null),{pathname:n}=r(),{courses:i}=oe(),{loadProfile:a}=fe(),{loadCourses:o}=le();return e.useEffect(()=>{a(),o()},[o,a]),e.useLayoutEffect(()=>{s.current?.scrollTo({top:0,left:0,behavior:"instant"})},[n]),t.jsxs(t.Fragment,{children:[t.jsx(Pe,{}),t.jsx("main",{className:"responsive flex flex-col",ref:s,children:i.length>0?t.jsx(Qs,{}):t.jsx("progress",{className:"circle"})}),t.jsx(je,{})]})}function Ms({children:e}){return t.jsx(ae,{children:t.jsx(pe,{children:t.jsx(h,{children:e})})})}p.createRoot(document.getElementById("root")).render(t.jsx(s.StrictMode,{children:t.jsx(Ms,{children:t.jsx(Ts,{})})}));export{B as a,ie as b,O as c,re as v};
